<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="search" type="application/opensearchdescription+xml" title="GraphQL Kotlin" href="/graphql-kotlin/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Subscriptions | GraphQL Kotlin</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://expediagroup.github.io/graphql-kotlin/docs/4.x.x/server/spring-server/spring-subscriptions"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="4.x.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-4.x.x"><meta data-react-helmet="true" property="og:title" content="Subscriptions | GraphQL Kotlin"><meta data-react-helmet="true" name="description" content="_To see more details on how to implement subscriptions in your schema, see the schema generator docs on executing subscriptions."><meta data-react-helmet="true" property="og:description" content="_To see more details on how to implement subscriptions in your schema, see the schema generator docs on executing subscriptions."><meta data-react-helmet="true" property="og:image" content="https://expediagroup.github.io/graphql-kotlin/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image" content="https://expediagroup.github.io/graphql-kotlin/img/undraw_online.svg"><link data-react-helmet="true" rel="shortcut icon" href="/graphql-kotlin/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://expediagroup.github.io/graphql-kotlin/docs/4.x.x/server/spring-server/spring-subscriptions"><link data-react-helmet="true" rel="alternate" href="https://expediagroup.github.io/graphql-kotlin/docs/4.x.x/server/spring-server/spring-subscriptions" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://expediagroup.github.io/graphql-kotlin/docs/4.x.x/server/spring-server/spring-subscriptions" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/graphql-kotlin/assets/css/styles.0445489e.css">
<link rel="preload" href="/graphql-kotlin/assets/js/runtime~main.3ecdce9d.js" as="script">
<link rel="preload" href="/graphql-kotlin/assets/js/main.4c9f0fc2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/graphql-kotlin/"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="GraphQL Kotlin" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="GraphQL Kotlin" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">GraphQL Kotlin</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ExpediaGroup/graphql-kotlin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/graphql-kotlin/docs/4.x.x/">4.x.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/graphql-kotlin/docs/server/spring-server/spring-subscriptions">5.x.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-subscriptions">4.x.x</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/3.x.x/">3.x.x</a></li></ul></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/graphql-kotlin/"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="GraphQL Kotlin" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="GraphQL Kotlin" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">GraphQL Kotlin</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/ExpediaGroup/graphql-kotlin" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/graphql-kotlin/docs/server/spring-server/spring-subscriptions">5.x.x</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-subscriptions">4.x.x</a></li><li class="menu__list-item"><a class="menu__link" href="/graphql-kotlin/docs/3.x.x/">3.x.x</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/examples">Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/framework-comparison">GraphQL Frameworks Comparison</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/blogs-and-videos">Blogs &amp; Videos</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Schema Generator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/schema-generator-getting-started">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Writing schemas with Kotlin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/nullability">Nullability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/arguments">Arguments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/scalars">Scalars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/enums">Enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/lists">Lists</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/unions">Unions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/annotations">Annotations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/writing-schemas/nested-arguments">Nested Resolvers and Shared Arguments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Customizing Schema</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/customizing-schemas/generator-config">Generator Configuration &amp; Hooks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/customizing-schemas/documenting-fields">Documenting Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/customizing-schemas/excluding-fields">Excluding Fields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/customizing-schemas/renaming-fields">Renaming Fields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/customizing-schemas/directives">Directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/customizing-schemas/deprecating-schema">Deprecating Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/customizing-schemas/restricting-input-output">Restricting Input and Output Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/customizing-schemas/advanced-features">Advanced Features</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Execution</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/fetching-data">Fetching Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/async-models">Async Models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/exceptions">Exceptions and Partial Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/data-fetching-environment">Data Fetching Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/contextual-data">Contextual Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/optional-undefined-arguments">Optional Undefined Arguments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/subscriptions">Subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/introspection">Introspection</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Federation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/federation/apollo-federation">Apollo Federation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/federation/federated-schemas">Federated Schemas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/federation/federated-directives">Federated Directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/federation/type-resolution">Federated Type Resolution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/schema-generator/federation/federation-tracing">Federation Tracing</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Server</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/graphql-server">GraphQLServer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/graphql-request-parser">GraphQLRequestParser</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/graphql-context-factory">GraphQLContextFactory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/graphql-request-handler">GraphQLRequestHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/data-loaders">Data Loaders</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/server-subscriptions">Subscriptions</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Spring Server</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-overview">Spring Server Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-schema">Writing Schemas with Spring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-graphql-context">Generating GraphQL Context</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-http-request-response">HTTP Request and Response</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-beans">Automatically Created Beans</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-properties">Configuration Properties</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-subscriptions">Subscriptions</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Client</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/client/client-overview">Client Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/client/client-features">Client Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/client/client-customization">Client Customization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/client/client-serialization">Client Serialization</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Build Plugins</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Gradle Plugin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/plugins/gradle-plugin-tasks">Tasks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/plugins/gradle-plugin-usage">Usage</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Maven Plugin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/plugins/maven-plugin-goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/plugins/maven-plugin-usage">Usage</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/4.x.x/plugins/hooks-provider">Schema Generator Hooks Provider</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for GraphQL Kotlin <b>4.x.x</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/graphql-kotlin/docs/server/spring-server/spring-subscriptions">latest version</a></b> (5.x.x).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 4.x.x</span><div class="markdown"><header><h1 class="h1Heading_27L5">Subscriptions</h1></header><p><em>To see more details on how to implement subscriptions in your schema, see the schema generator docs on <a href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/subscriptions">executing subscriptions</a>.
This page lists the <code>graphql-kotlin-spring-server</code> specific features.</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="flow-support"></a>Flow Support<a class="hash-link" href="#flow-support" title="Direct link to heading">#</a></h2><p><code>graphql-kotlin-spring-server</code> provides automatic support for Kotlin <code>Flow</code> through <code>FlowSubscriptionExecutionStrategy</code>
that supports existing <code>Publisher</code>s and relies on Kotlin reactive-streams interop to convert <code>Flow</code> to a <code>Publisher</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="graphql-ws-subprotocol"></a><code>graphql-ws</code> subprotocol<a class="hash-link" href="#graphql-ws-subprotocol" title="Direct link to heading">#</a></h2><p>We have implemented subscriptions in Spring WebSockets following the <a href="https://github.com/apollographql/subscriptions-transport-ws/blob/master/PROTOCOL.md" target="_blank" rel="noopener noreferrer"><code>graphql-ws</code> subprotocol</a> defined by Apollo.
This requires that your client send and parse messages in a specific format.</p><p>If you would like to implement your own subscription handler, you can provide a primary spring bean for <code>HandlerMapping</code> that overrides the <a href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-beans">default one</a> which sets the url for subscriptions to the Apollo subscription handler.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="subscription-hooks"></a>Subscription Hooks<a class="hash-link" href="#subscription-hooks" title="Direct link to heading">#</a></h2><p>In line with the Apollo protocol, we have implemented hooks to execute functions at different stages of the connection lifecycle.
If you would like to implement your own subscription hooks, you can provide a primary spring bean for <code>ApolloSubscriptionHooks</code> that overrides the <a href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-beans">default one</a> which do not perform any actions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="onconnect"></a><code>onConnect</code><a class="hash-link" href="#onconnect" title="Direct link to heading">#</a></h3><p>Allows validation of connectionParams prior to starting the connection.
You can reject the connection by throwing an exception.
If you need to forward state to execution, update and return the <a href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-graphql-context">GraphQLContext</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="onoperation"></a><code>onOperation</code><a class="hash-link" href="#onoperation" title="Direct link to heading">#</a></h3><p>Called when the client executes a GraphQL operation. The context can not be updated here, it is read only.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="onoperationcomplete"></a><code>onOperationComplete</code><a class="hash-link" href="#onoperationcomplete" title="Direct link to heading">#</a></h3><p>Called when client&#x27;s unsubscribes</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ondisconnect"></a><code>onDisconnect</code><a class="hash-link" href="#ondisconnect" title="Direct link to heading">#</a></h3><p>Called when the client disconnects</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h2><p>You can see an example implementation of a <code>Subscription</code> in the <a href="https://github.com/ExpediaGroup/graphql-kotlin/blob/master/examples/server/spring-server/src/main/kotlin/com/expediagroup/graphql/examples/server/spring/subscriptions/SimpleSubscription.kt" target="_blank" rel="noopener noreferrer">example app</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/ExpediaGroup/graphql-kotlin/tree/master/website/versioned_docs/version-4.x.x/server/spring-server/spring-subscriptions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-11-17T00:20:11.000Z">11/17/2021</time></b> by <b>Jonathan Hollingsworth</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-properties"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Configuration Properties</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/graphql-kotlin/docs/4.x.x/client/client-overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Client Overview Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#flow-support" class="table-of-contents__link">Flow Support</a></li><li><a href="#graphql-ws-subprotocol" class="table-of-contents__link"><code>graphql-ws</code> subprotocol</a></li><li><a href="#subscription-hooks" class="table-of-contents__link">Subscription Hooks</a><ul><li><a href="#onconnect" class="table-of-contents__link"><code>onConnect</code></a></li><li><a href="#onoperation" class="table-of-contents__link"><code>onOperation</code></a></li><li><a href="#onoperationcomplete" class="table-of-contents__link"><code>onOperationComplete</code></a></li><li><a href="#ondisconnect" class="table-of-contents__link"><code>onDisconnect</code></a></li></ul></li><li><a href="#example" class="table-of-contents__link">Example</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/graphql-kotlin/img/Expedia-Group-Logo_E-Stacked.png" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/graphql-kotlin/img/Expedia-Group-Logo_E-Stacked.png" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright Â© 2021 Expedia, Inc.</div></div></div></footer></div>
<script src="/graphql-kotlin/assets/js/runtime~main.3ecdce9d.js"></script>
<script src="/graphql-kotlin/assets/js/main.4c9f0fc2.js"></script>
</body>
</html>