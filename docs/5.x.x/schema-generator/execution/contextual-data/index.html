<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/graphql-kotlin/blog/rss.xml" title="GraphQL Kotlin Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/graphql-kotlin/blog/atom.xml" title="GraphQL Kotlin Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="GraphQL Kotlin" href="/graphql-kotlin/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Contextual Data | GraphQL Kotlin</title><meta data-react-helmet="true" property="og:url" content="https://expediagroup.github.io/graphql-kotlin/docs/5.x.x/schema-generator/execution/contextual-data"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="5.x.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-5.x.x"><meta data-react-helmet="true" property="og:title" content="Contextual Data | GraphQL Kotlin"><meta data-react-helmet="true" name="description" content="All GraphQL servers have a concept of a &quot;context&quot;. A GraphQL context contains metadata that is useful to the GraphQL"><meta data-react-helmet="true" property="og:description" content="All GraphQL servers have a concept of a &quot;context&quot;. A GraphQL context contains metadata that is useful to the GraphQL"><meta data-react-helmet="true" property="og:image" content="https://expediagroup.github.io/graphql-kotlin/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image" content="https://expediagroup.github.io/graphql-kotlin/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/graphql-kotlin/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://expediagroup.github.io/graphql-kotlin/docs/5.x.x/schema-generator/execution/contextual-data"><link data-react-helmet="true" rel="alternate" href="https://expediagroup.github.io/graphql-kotlin/docs/5.x.x/schema-generator/execution/contextual-data" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://expediagroup.github.io/graphql-kotlin/docs/5.x.x/schema-generator/execution/contextual-data" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/graphql-kotlin/assets/css/styles.e9316f2f.css">
<link rel="preload" href="/graphql-kotlin/assets/js/runtime~main.aa6be7c4.js" as="script">
<link rel="preload" href="/graphql-kotlin/assets/js/main.02df6ab8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/graphql-kotlin/"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="GraphQL Kotlin" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="GraphQL Kotlin" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">GraphQL Kotlin</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ExpediaGroup/graphql-kotlin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/graphql-kotlin/docs/5.x.x/">5.x.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/graphql-kotlin/docs/schema-generator/execution/contextual-data">6.x.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/contextual-data">5.x.x</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/contextual-data">4.x.x</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/3.x.x/schema-generator/execution/contextual-data">3.x.x</a></li></ul></div><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--checked react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/graphql-kotlin/"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="GraphQL Kotlin" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="GraphQL Kotlin" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">GraphQL Kotlin</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/ExpediaGroup/graphql-kotlin" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/graphql-kotlin/docs/schema-generator/execution/contextual-data">6.x.x</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/contextual-data">5.x.x</a></li><li class="menu__list-item"><a class="menu__link" href="/graphql-kotlin/docs/4.x.x/schema-generator/execution/contextual-data">4.x.x</a></li><li class="menu__list-item"><a class="menu__link" href="/graphql-kotlin/docs/3.x.x/schema-generator/execution/contextual-data">3.x.x</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/examples">Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/framework-comparison">GraphQL Frameworks Comparison</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/blogs-and-videos">Blogs &amp; Videos</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Schema Generator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/schema-generator-getting-started">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Writing schemas with Kotlin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/writing-schemas/nullability">Nullability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/writing-schemas/arguments">Arguments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/writing-schemas/scalars">Scalars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/writing-schemas/enums">Enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/writing-schemas/lists">Lists</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/writing-schemas/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/writing-schemas/unions">Unions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/writing-schemas/nested-arguments">Nested Resolvers and Shared Arguments</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Customizing Schema</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/annotations">Annotations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/generator-config">Generator Configuration &amp; Hooks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/documenting-fields">Documenting Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/excluding-fields">Excluding Fields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/renaming-fields">Renaming Fields</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/directives">Directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/deprecating-schema">Deprecating Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/custom-type-reference">Custom Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/restricting-input-output">Restricting Input and Output Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/customizing-schemas/advanced-features">Advanced Features</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Execution</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/fetching-data">Fetching Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/async-models">Async Models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/exceptions">Exceptions and Partial Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/data-fetching-environment">Data Fetching Environment</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/contextual-data">Contextual Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/optional-undefined-arguments">Optional Undefined Arguments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/subscriptions">Subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/introspection">Introspection</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Federation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/federation/apollo-federation">Apollo Federation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/federation/federated-schemas">Federated Schemas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/federation/federated-directives">Federated Directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/federation/type-resolution">Federated Type Resolution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/schema-generator/federation/federation-tracing">Federation Tracing</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Server</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/graphql-server">GraphQLServer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/graphql-request-parser">GraphQLRequestParser</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/graphql-context-factory">GraphQLContextFactory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/graphql-request-handler">GraphQLRequestHandler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/data-loaders">Data Loaders</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/server-subscriptions">Subscriptions</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Spring Server</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/spring-server/spring-overview">Spring Server Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/spring-server/spring-schema">Writing Schemas with Spring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/spring-server/spring-graphql-context">Generating GraphQL Context</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/spring-server/spring-http-request-response">HTTP Request and Response</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/spring-server/spring-beans">Automatically Created Beans</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/spring-server/spring-properties">Configuration Properties</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/server/spring-server/spring-subscriptions">Subscriptions</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Client</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/client/client-overview">Client Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/client/client-features">Client Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/client/client-customization">Client Customization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/client/client-serialization">Client Serialization</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Build Plugins</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gradle Plugin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/plugins/gradle-plugin-tasks">Tasks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/plugins/gradle-plugin-usage">Usage</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Maven Plugin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/plugins/maven-plugin-goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/plugins/maven-plugin-usage">Usage</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/graphql-kotlin/docs/5.x.x/plugins/hooks-provider">Schema Generator Hooks Provider</a></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div></div><div class="docItemContainer_oiyr"><article><div><span class="badge badge--secondary">Version: 5.x.x</span></div><header><h1 class="docTitle_-X99">Contextual Data</h1></header><div class="markdown"><p>All GraphQL servers have a concept of a &quot;context&quot;. A GraphQL context contains metadata that is useful to the GraphQL
server, but shouldn&#x27;t necessarily be part of the GraphQL schema. A prime example of something that is appropriate
for the GraphQL context would be trace headers for an OpenTracing system such as
<a href="https://expediadotcom.github.io/haystack" target="_blank" rel="noopener noreferrer">Haystack</a>. The GraphQL query does not need the information to perform
its function, but the server needs the information to ensure observability.</p><p>The contents of the GraphQL context vary across applications and it is up to the GraphQL server developers to decide
what it should contain. <code>graphql-kotlin-server</code> provides a simple mechanism to
build a context per operation with the <a href="/graphql-kotlin/docs/5.x.x/server/graphql-context-factory">GraphQLContextFactory</a>.
If a custom factory is defined, it will then be used to populate GraphQL context based on the incoming request and make it available during execution.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="graphql-context-map"></a>GraphQL Context Map<a class="hash-link" href="#graphql-context-map" title="Direct link to heading">#</a></h2><p>In graphql-java v17 a new context map was added to the <code>DataFetchingEnvironment</code>. This is now the prefered way of saving info for execution.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">class ContextualQuery : Query {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    fun contextualQuery(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        dfe: DataFetchingEnvironment,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        value: Int</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ): String = &quot;The custom value was ${dfe.graphQLContext.get(&quot;foo&quot;)} and the value was $value&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="graphqlcontext-interface-deprecated"></a>GraphQLContext Interface (Deprecated)<a class="hash-link" href="#graphqlcontext-interface-deprecated" title="Direct link to heading">#</a></h2><p>In graphql-java v17, this context object was deprecated in favor of a generic map managed by the execution engine. You can access this map through the <a href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/data-fetching-environment">DataFetchingEnvironment</a>.
The injection of the context interface will eventually be removed. We reccomend all developers use the [DataFetchingEnvironment] to access both the legacy object and new context map.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="interface-injection-deprecated"></a>Interface Injection (Deprecated)<a class="hash-link" href="#interface-injection-deprecated" title="Direct link to heading">#</a></h3><p>The easiest way to specify a context class is to use the <code>GraphQLContext</code> marker interface. This interface does not require any implementations,
it is just used to inform the schema generator that this is the class that should be used as the context for every request.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">class MyGraphQLContext(val customValue: String) : GraphQLContext</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Then, you can use the class as an argument and it will be automatically injected during execution time.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">class ContextualQuery : Query {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    fun contextualQuery(</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        context: MyGraphQLContext,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        value: Int</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ): String = &quot;The custom value was ${context.customValue} and the value was $value&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The above query would produce the following GraphQL schema:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI graphql"><div tabindex="0" class="prism-code language-graphql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">type</span><span class="token plain"> </span><span class="token class-name">Query</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token attr-name" style="color:rgb(241, 250, 140)">contextualQuery</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token attr-name" style="color:rgb(241, 250, 140)">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Int</span><span class="token operator">!</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> String</span><span class="token operator">!</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Note that the argument that implements <code>GraphQLContext</code> is not reflected in the GraphQL schema.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="handling-context-errors"></a>Handling Context Errors<a class="hash-link" href="#handling-context-errors" title="Direct link to heading">#</a></h2><p>The <a href="/graphql-kotlin/docs/5.x.x/server/graphql-context-factory">GraphQLContextFactory</a> may return <code>null</code>. If your factory implementation never returns <code>null</code>, then there is no need to change your schema.
If the factory could return <code>null</code>, then the context arugments in your schema should be nullable so a runtime exception is not thrown.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">class ContextualQuery : Query {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    fun contextualQuery(context: MyGraphQLContext?, value: Int): String {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        if (context != null) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            return &quot;The custom value was ${context.customValue} and the value was $value&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return &quot;The context was null and the value was $value&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="injection-customization"></a>Injection Customization<a class="hash-link" href="#injection-customization" title="Direct link to heading">#</a></h2><p>The context is injected into the execution through the <code>FunctionDataFetcher</code> class.
If you want to customize the logic on how the context is determined, that is possible to override.
See more details on the <a href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/fetching-data">Fetching Data documentation</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ExpediaGroup/graphql-kotlin/tree/master/website/versioned_docs/version-5.x.x/schema-generator/execution/contextual-data.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-02-19T22:29:39.000Z" class="lastUpdatedDate_nN9m">2/19/2022</time> by <strong>Matthias LÃ¼neberg</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/data-fetching-environment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Data Fetching Environment</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/graphql-kotlin/docs/5.x.x/schema-generator/execution/optional-undefined-arguments"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Optional Undefined Arguments Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#graphql-context-map" class="table-of-contents__link">GraphQL Context Map</a></li><li><a href="#graphqlcontext-interface-deprecated" class="table-of-contents__link">GraphQLContext Interface (Deprecated)</a><ul><li><a href="#interface-injection-deprecated" class="table-of-contents__link">Interface Injection (Deprecated)</a></li></ul></li><li><a href="#handling-context-errors" class="table-of-contents__link">Handling Context Errors</a></li><li><a href="#injection-customization" class="table-of-contents__link">Injection Customization</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/graphql-kotlin/img/Expedia-Group-Logo_E-Stacked.png" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/graphql-kotlin/img/Expedia-Group-Logo_E-Stacked.png" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright Â© 2021 Expedia, Inc.</div></div></div></footer></div>
<script src="/graphql-kotlin/assets/js/runtime~main.aa6be7c4.js"></script>
<script src="/graphql-kotlin/assets/js/main.02df6ab8.js"></script>
</body>
</html>